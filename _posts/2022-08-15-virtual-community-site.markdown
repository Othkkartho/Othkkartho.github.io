---
# multilingual page pair id, this must pair with translations of this page. (This name must be unique)
lng_pair: virtual
title: 버츄얼 유튜버 커뮤니티 사이트 요구분석 및 설계 

# post specific
# if not specified, .name will be used from _data/owner/[language].yml
author: Othkkartho's Workshop
# multiple category is not supported
category: 버츄얼 유튜버 커뮤니티 제작
# multiple tag entries are possible
tags: [Spring, 버츄얼 유튜버 커뮤니티 제작]
# thumbnail image for post
img: ":post_virtual_pic1.jpg"
# disable comments on this page
#comments_disable: true

# publish date
date: 2022-08-15 10:00:00 +0900

# seo
# if not specified, date will be used.
#meta_modify_date: 2022-02-10 08:11:06 +0900
# check the meta_common_description in _data/owner/[language].yml
#meta_description: ""

# optional
# if you enabled image_viewer_posts you don't need to enable this. This is only if image_viewer_posts = false
#image_viewer_on: true
# if you enabled image_lazy_loader_posts you don't need to enable this. This is only if image_lazy_loader_posts = false
#image_lazy_loader_on: true
# exclude from on site search
#on_site_search_exclude: true
# exclude from search engines
#search_engine_exclude: true
# to disable this page, simply set published: false or delete this file
# published: false
---

<!-- outline-start -->

버츄얼 유튜버 게시판을 만들기 위한 설계를 설명하는 페이지입니다.

<!-- outline-end -->

### 사이트 제작 이유
현재 버츄얼 유튜버 시장은 성장하고, 많은 사람들과 회사들이 나오고 있지만, 그 커뮤니티는 여러 커뮤니티 안에서 마이너 커뮤니티로서 활동되고, 거대한 버츄얼 회사들을 제외하면 그 커뮤니티 조차 없습니다.<br>
그래서 홀로라이브 뉴스라는 팬사이트를 보고 현재 성장해 가고 있는 버츄얼 시장에 버츄얼 전체를 아우르는 팬 커뮤니티인 사이트가 있었으면 좋겠다고 생각해 제작을 결정했습니다.<br>

### 제작 목표
여타 커뮤니티처럼 작동하는 커뮤니티 사이트를 만들어 서버 구동까지 하는 것이 목표입니다.

### 참고 사이트
[아카라이브](https://arca.live/)와 [홀로라이브 뉴스](https://hololive.kr/) 사이트를 참고해 제작 방향을 결정했습니다.

### 제작 페이지별 초기 예상 필요 기능 및 고려해야할 것들
#### 메인 페이지
1. 로그인 여부 확인
2. 구독한 커뮤니티에 대해 메인 페이지에서 간단한 정보들을 보여줌
3. 구글 에드센스를 이용한 광고의 삽입이 필요하고 위치를 사람들이 거북해 하지 않을만한 위치로 구성해야 함
4. 사이트 관리 페이지 제작 및 권한 확인
    - 사이트 관리 페이지에는 관리자만 접근 가능
    - 사이트 URL별 인가 설정 및 유저 권한 부여 제작, 권한 부여의 경우 유저가 많아질 것을 대비해 검색 기능 구현 필요
    - 사이트 게시판 관리(등록, 수정, 삭제) 페이지, 문의를 확인할 수 있는 페이지, 홍보 배너 등록 페이지 제작 필요
5. 고려 중인 기능으로 알람 기능이 있어 만약 구현하게 된다면 알람 버튼을 만들어 쉽게 볼 수 있게 하고 싶음
6. 일정 대가(포인트, 돈)를 지불하면 본인 채널의 홍보나 버튜버 및 버튜버 회사의 홍보를 배너로 걸어 둘 수 있음
7. 구독중인 게시판으로 이동할 수 있도록 목록을 보여줌
    - 각 단축키를 설정하고, 단축키를 누르면 바로 이동할 수 있도록 하는 기능 생각 중
8. 홍보를 삽입할 때 받은 사진을 프론트앤드에서 구현하는 것이 아니라 백앤드에 저장을 하면 자동으로 바뀌어서 나오게 설정하는게 효과적일 듯

#### 로그인 및 회원가입, 아이디, 비밀번호 찾기
1. 로컬 회원가입을 진행하고, 소셜 회원가입은 마이페이지에서 연결을 통해 구현
    - 고려 중인 기능은 소셜 회원가입을 진행하고, 그 정보를 가지고, 추가적인 로컬 회원가입을 진행해 두 방식의 로그인을 지원하는 형식으로 가고자 함
2. 만약 소셜 연결을 진행했다면 로그인 시 소셜 로그인 만으로도 로그인이 가능하도록 설정
3. 회원가입시 이메일 인증을 진행하고, 비밀번호 찾기 시 이메일 인증을 진행하고, 비밀번호 변경을 진행
    - 고려 중인 기능은 이메일 인증 시 문자열이 아닌 링크를 통한 인증을 구현하고 싶음

#### 마이페이지
1. 마이페이지에는 내 글/댓글 확인, 정보수정, 스크랩 게시글 정보, 팔로우 인원 및 구독한 채널 리스트로 가는 버튼을 띄움
2. 마이페이지에 출력되는 정보는 내 정보, 레벨, 가지고 있는 역할, 닉네임을 보여줄 예정
3. 정보 수정시 비밀번호 인증을 거치게 제작할 예정
4. 게시글 알람과 구독한 커뮤니티의 특정 게시판이 갱신되면 알람을 받는 것을 키고 끌 수 있는 기능을 제공 

#### 문의
1. 문의는 크게 일반 문의와 홍보 문의로 나눠지며 권한은 모든 가입 유저들이 등록, 수정, 삭제할 수 있음
    - 일반 문의는 사이트 오류, 포인트 관련 질문, 사이트 기능 추가 등의 일반적인 문의들을 작성할 수 있도록 함
    - 홍보 문의는 기간을 선택할 수 있도록 하며 그 기간에 따른 포인트 소모가 달라지도록 함
2. 문의의 경우 크게 문의 대기, 문의 확인 중, 문의 처리 완료, 문의 취소 상태를 가짐

#### 게시판
1. 게시판은 관리자만이 만들 수 있고, 채널 관리자 또한 관리자만 임명할 수 있음.
    - 만약 회사 관계자가 있을 경우 회사 관계자 또한 채널 관리자의 역할을 수행할 수 있음. 하지만 두 역할군은 종속적인 관계가 아님. 즉 회사 관계자가 꼭 채널 관리자일 필요는 없음.
2. 게시판에 들어가면 리스트로 보여주는 것은 번호, 제목, 작성자, 작성일, 조회수, 추천수를 확인할 수 있음
3. 추가 예상 기능으로 게시판의 생성 날짜나 추천수, 조회수를 기준으로 정렬하는 기능을 생각하고 있음
4. 게시글 작성은 기본적으로 누구나 가능하며, 게시판의 하위 게시판 개시글의 조회, 생성, 삭제, 수정 등의 연산은 채널 관리자가 설정할 수 있음
5. 게시글의 검색은 제목, 작성자, 제목/내용, 제목/내용/댓글로 검색 할 수 있도록 만들 예정
6. 게시글 작성시 각 게시판의 하위 게시판을 선택하고, 게시글 제목과, 내용을 선택할 수 있음. 첨부는 링크와 사진만 가능. 동영상은 링크로만 첨부 가능
7. 게시판의 구독을 가능하게 해 구독한 게시판으로 쉽게 이동할 수 있는 기능 제공
8. 게시판을 만드는 것은 관리자만 가능함, 게시판의 하위 게시판은 게시판 관리자가 생성, 수정이 가능하고, 게시글의 삭제, 사용자 제재가 가능함
    - 게시판 삭제는 게시글들의 존재 때문에 삭제 게시판 관리자가 삭제할 수 없게 만들 예정
    - 게시판은 반드시 자유 게시판, 정보 게시판, 신고 게시판이 존재해야 함
    - 게시글 삭제와 사용자 제재의 경우 관리자는 삭제 전 신고 게시판에 규칙 해당 게시글의 규칙 위반 내용과 증거, 조치 사항을 작성해야 함. 만약 작성되지 않았을 경우 사용자는 문의 게시판을 통해 이의를 제기할 수 있음
9. 알람을 사용한다면 지금 많은 커뮤니티에서 하는 것 처럼 게시글에 달린 댓글과 같은 것에 알람이 울리도록 만들지 아님 구독한 게시판의 정보 게시판에 정보가 올라가도 알람이 울리게 할 지 고민해야 함
10. 게시판에 일러스트나 이모티콘, 배경화면 등을 올리면 사용자들은 포인트를 설정된 포인트(예상: 0~1,000)를 사용해 다운로드 받을 수 있음
11. 사용자 제재는 해당 조치를 받은 게시판의 접속 차단과, 사이트 자체 접속 차단 또는 게시판 댓글, 게시글 작성 금지나 사이트 전체 금지로 나눌 수 있음
    - 각 다른 커뮤니티에서 3번 이상 영구 제재를 받았다면 사이트 제재를 진행함
    - 사이트 전체 제재의 경우 사이트에 접속할 수는 있음
12. 게시글 제목, 게시글 내용/댓글, 작성자에 대한 검색이 가능해야 함

#### 쇼핑 관련
1. 우선 각 버츄얼 회사들의 굿즈를 판매하는 사이트와 연결되는 링크를 제공한다
    - 혹은 웹 크롤링을 통해 각 버츄얼 회사들의 굿즈를 판매하는 사이트에 판매중인 상품들을 확인 후 DB에 갱신하고, 그 상품 링크를 화면에 뿌림 분류 기능을 제공해야함
2. 자체 쇼핑몰을 만들어 개인 버튜버들이나, 콜라보 굿즈, 해외 콜라보 상품 개인간 거래에 활용
    - 상품 페이지에는 가격, 판매자, 기한, 리뷰, 기대평, 상품 정보가 들어가야 함
    - 물품의 수량을 고르고 장바구니에 저장이나, 바로 구매할 수 있음
3. 만약 이 구매에 포인트 적립을 구현한다고 하면 무료 포인트와 유료 포인트로 구분해서, 저장해야 함
4. 위 쇼핑 등록은 관리자나, 버튜버가 올릴 수 있고, 개인이 올리기 위해서는 관리자에게 문의를 하거나, 개인이 판매자 권한으로 등록 되어야 함

#### 포인트 관련 게임
1. 포인트 로또는 1~50 까지의 숫자 중 5개와, 1~25의 숫자 중 1개를 맞추거나, 1~50 까지의 숫자 중 6개를 맞추면, 일정 퍼센트의 포인트를 제외하고, 순위에 맞는 배수로 포인트를 제공하는 게임임
    - 만약 첫번째 방법으로 제작한다면, 예상으로는 1등 100배, 2등 50배, 3등 10배, 4등 본전, 5등 건 돈의 1/2배, 6등은 안돌려 주는 방식으로 제작. 하지만 확률 계산을 해보고 다시 변경해야 될 듯. 수수료는 25%
    - 만약 두번째 방법으로 제작하면, 예상으로는 1등 50배, 2등 10배, 3등 2배, 4등 부터는 위의 보상과 같음 수수료도 25%로 동일
    - 주기는 하루에 1번 가능
    - 페이지로써 유지되고, 아래에 지난 회차의 순위 번호와 1등~4등 까지의 인원수가 기록됨. 이는 한 회차가 끝날때 마다 DB에 값을 저장하고, 이 값을 불러오는 방식으로 진행됨
    - 본인이 입력한 번호와 당첨 여부는 마이페이지나, 현 사이트에 그 리스트의 페이지로 이동하는 버튼을 만듦.
    - 로또는 01:00~23:00 까지 포인트를 걸 수 있음
2. 포인트 토토
    - 경쟁 컨텐츠나, 순위 컨텐츠 등 포인트를 걸고 무언가 예측할 수 있을 만한 이벤트가 있을 경우 생성할 수 있음
    - 사람들의 포인트 예측에 건 포인트를 대상으로 배율을 정하고, 맞춘 사람들이 그 포인트를 가져가는 구조
    - 포인트 토토는 게임 채널 관리자나 관리자가 등록할 수 있고, 배율은 자동으로 정해짐

#### 서버 관련
1. 서버 이중화를 하여 한 곳에 문제가 생겨도 문제없이 동작할 수 있도록 구성 필요
    - 서버 이중화 테스트를 위하여 가상 환경을 2개 구축해 서버를 돌리다가 한 서버를 다운시키는 방식으로 테스트 할 수 있음

### 공부해야 할 점 및 구현 기능 정리
#### 메인 페이지
1. 구글 에드센스를 사이트에 넣는 방법 공부
2. 사용자가 작성한 글에 댓글이 달리거나 구독한 커뮤니티에 정보 게시판과 같은 특정 게시판에 정보가 갱신되었을 경우 알람을 사용자가 받을 수 있도록 하는 방법 공부
3. 사용자들에게 권한 부여 및 인가 정책 구현
4. 관리자 페이지의 유저 검색 기능, 메인 화면의 채널 검색 기능, 게시글 검색 기능 필요
5. 사용자가 구독중인 사이트의 목록을 보여줘야 함
6. 홍보 위치에 사진이 정상적으로 등록되야 함

#### 회원 관리
1. 사용자가 인증 요청을 하면 인증 메일을 보낼 수 있도록 공부해야 하고, 그 메일을 단순히 문자열이 아닌 시간 제한이 있는 링크로 인증될 수 있도록 공부해야 함
2. 로컬 회원가입과 소셜 회원가입이 정상적으로 진행 되야 하고, 로그인 또한 둘중 하나로 진행하면 정상적으로 로그인 되어야 함

#### 게시판
1. 본인 게시글의 댓글이 생성되거나, 커뮤니티의 특정 개시판의 게시글이 생성되었을 경우 사용자에게 알람을 보낼 수 있는 방법 공부
2. 게시판의 게시글을 생성 날짜, 조회수, 추천 수로 정렬 될 수 있도록 공부
3. 게시글 제목, 내용, 댓글, 작성자에 대한 검색이 원할하게 이뤄질 수 있도록 공부
4. 채널 관리자가 되면 하위 게시판 생성, 수정할 수 있도록 해야함
5. 여러 개의 게시판을 만들어 동작되는 사이트를 제작한 경험이 없어 여러 개의 게시판이 정상적으로 화면에 출력될 수 있도록 프론트앤드쪽에 신경을 써야함
6. 게시판에 제제가 생길 경우 유저에게 게시글 작성과 댓글 작성이 막히거나, 커뮤니티에 들어가지 말아야 함
7. 사이트 제재와 커뮤니티 제재를 나눌 수 있어야 함. 채널 관리자가 사용자 제재를 등록할 수 있어야 함

#### 쇼핑 관련
1. 쇼핑 목록을 세부 분류 기준으로 분류되어 구매자들이 확인할 수 있도록 공부
2. 만약 웹 크롤링으로 각 버튜버 굿즈의 정보 갱신을 진행할 경우 이 내용에 대해서도 공부
3. 상품의 생성, 수정, 삭제와 댓글, 리뷰 등은 게시판의 기능들을 가지고 와 일부 변경만 가하면 쉽게 완성할 수 있을걸로 예상

#### 포인트 게임
1. 포인트 토토의 경우 포인트를 걸 경우 그 비율에 맞춰 배당을 결정할 수 있는 방법 공부
2. 포인트 로또의 경우 데이터가 00시에 데이터가 자동으로 저장되고, 23시 10분에 로또 번호가 자동으로 생성될 수 있도록 공부

#### 서버 관련
1. 서버 이중화 공부 필요

### 필요 데이터
#### 유저 관리

| 데이터 | 예상 저장 데이터 | 설명 |
| :---: | :-------------: | :---: |
| 관리자 |  | 사이트의 관리자로서 개발자나 전체 사이트의 관리자 |
{:data-align="center"}

#### 게시판

| 데이터 | 예상 저장 데이터 | 설명 |
| :---: | :-------------: | :---: |
| 관리자 |  | 사이트의 관리자로서 개발자나 전체 사이트의 관리자 |
{:data-align="center"}

#### 쇼핑

| 데이터 | 예상 저장 데이터 | 설명 |
| :---: | :-------------: | :---: |
| 관리자 |  | 사이트의 관리자로서 개발자나 전체 사이트의 관리자 |
{:data-align="center"}

#### 포인트 게임

| 데이터 | 예상 저장 데이터 | 설명 |
| :---: | :-------------: | :---: |
| 관리자 |  | 사이트의 관리자로서 개발자나 전체 사이트의 관리자 |
{:data-align="center"}

### UML
#### 엑터
아래 표는 각 액터들의 이름과 설명입니다.

| 이름 | 설명 |
| :-------: | :--------------: |
| 관리자 | 사이트의 관리자로서 개발자나 전체 사이트의 관리자 |
| 채널 관리자 | 각 버츄얼 커뮤니티 채널의 관리자 |
| 채널 활동자 | 각 버츄얼 커뮤니티의 활동 권한을 부여받은 사람들 |
| 번역가 | 커뮤니티 활동하는 사람들 중 번역을 하는 사람들 |
| 일러스트레이터 | 커뮤니티 활동하는 사람들 중 일러스트를 제작하는 사람들 |
| 게스트 | 커뮤니티에 회원가입을 했지만 어떤 역활도 부여받지 못한 사람들 |
{:data-align="center"}

### 페이지 설계
[오븐](https://ovenapp.io/project/A4Tm1teK90pM0YC9bPPiUVawvvcocM5D#QH6B0)에 페이지 설계를 함

### 데이터베이스 설계
#### ER 다이어그램


#### 데이터베이스 스키마
![DB 스키마 사진](:/virtual_post/DB_design.jpg){:data-align="center"}

#### BCNF


### API 명세서
![추후 업로드 예정]()
